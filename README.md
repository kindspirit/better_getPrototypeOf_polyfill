This Object.getPrototypeOf() polyfill also doubles as a monkey patch for ES5 browsers so that it matches the ES6 behavior. It is especially designed to target Internet Explorer 6 and up, but has also been tested in old Safari and Opera.

I did this because most polyfills are lazy and I wanted to make one that is more robust. The only caveat is that ES3 browsers that don't support `__proto__` rely on a viable constructor property to get the prototype. Without it the prototype is skipped over, and return value is the next object in the prototype chain with a constructor property.

It's designed to also work on host objects that are notorious in browsers like Opera 10 and IE 6, 7 and 8. And it works on native prototype objects as well without deleting any non-enumerable properties. However it does delete and then restore enumerable constructor properties as needed to take a peek at the inherited constructor property. Since those properties were enumerable to begin with, nothing will have changed in most cases once the property is restored. But it's still something to be aware of since Opera 9.5 and 10 support getters and setters which this polyfill does not account for.

Before returning a prototype, a check is performed to make sure that the return value really is in the prototype chain of the tested value. It also monkey patches a problem with `Object.getPrototypeOf(location)` returning null in Internet Explorer 9+ browsers, instead of returning the location object's prototype.
